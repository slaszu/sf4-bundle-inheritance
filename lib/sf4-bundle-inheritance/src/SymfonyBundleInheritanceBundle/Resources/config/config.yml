services:
  _defaults:
    autowire: true
    autoconfigure: true

  SymfonyBundleInheritanceBundle\:
    resource: '../../*'
    exclude: '../../{DependencyInjection,Entity,Tests,SymfonyBundleInheritanceBundle.php}'


# util:
  SymfonyBundleInheritanceBundle\Util\ParentChild\Collection:
    factory: ['@SymfonyBundleInheritanceBundle\Util\ParentChild\CollectionFactory','getCollection']

# controller: override controller resolver
  SymfonyBundleInheritanceBundle\ControllerInheritance\ControllerResolver:
    decorates: 'controller_resolver'
    calls:
      - ['setParentChildCollection', ['@SymfonyBundleInheritanceBundle\Util\ParentChild\Collection']]